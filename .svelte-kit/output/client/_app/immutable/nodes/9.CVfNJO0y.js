import{c as q,a as l,f as v}from"../chunks/DBbh6i71.js";import"../chunks/By_quqKy.js";import{o as ce}from"../chunks/9Wgh_Wd9.js";import{f as G,p as me,l as pe,a as fe,b as _e,a4 as ue,o as L,a5 as M,m as e,x as o,$ as ge,a0 as n,a3 as t,a2 as xe,a1 as d,a6 as x}from"../chunks/Gv26lf99.js";import{s as h}from"../chunks/CGn5TYOr.js";import{i as u}from"../chunks/L_eDHKqI.js";import{I as he,s as F,e as R,i as U}from"../chunks/Dvb1pLFc.js";import{p as be,h as ye}from"../chunks/D9WxiL4-.js";import{h as we}from"../chunks/BgmTWRyC.js";import{i as $e}from"../chunks/Cu4e1Vm0.js";import{a as Ee,s as ke}from"../chunks/YP0RaV8n.js";import{p as V}from"../chunks/DI6rd9QU.js";import{s as Be}from"../chunks/ZjGFPQrt.js";import{l as Ie,s as Se}from"../chunks/uKDsRmDl.js";import{C as Ce,E as De}from"../chunks/DKcwRqzo.js";function Pe(k,b){const y=Ie(b,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]];he(k,Se({name:"arrow-left"},()=>y,{get iconNode(){return B},children:(I,w)=>{var a=q(),$=G(a);Be($,b,"default",{},null),l(I,a)},$$slots:{default:!0}}))}var Te=v('<div class="flex items-center justify-center py-20"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-primary"></div></div>'),je=v('<img class="w-full h-96 object-cover rounded-lg mb-8"/>'),He=v('<div class="flex items-center gap-2"><!> <span> </span></div>'),Le=v('<span class="px-3 py-1 bg-primary/10 text-primary rounded-full text-sm"> </span>'),Me=v('<div class="flex flex-wrap gap-2 mt-4"></div>'),Ne=v('<span class="px-3 py-1 bg-secondary/50 text-secondary-foreground rounded-full text-sm"> </span>'),ze=v('<footer class="mt-12 pt-8 border-t"><h3 class="text-lg font-semibold mb-3">Tags</h3> <div class="flex flex-wrap gap-2"></div></footer>'),Ae=v('<article class="container mx-auto px-4 py-12 max-w-4xl"><a href="/" class="inline-flex items-center gap-2 text-primary hover:underline mb-8"><!> Back to home</a> <header class="mb-8"><!> <h1 class="text-4xl md:text-5xl font-bold text-foreground mb-4"> </h1> <div class="flex items-center gap-4 text-sm text-muted-foreground"><div class="flex items-center gap-2"><!> <span> </span></div> <!></div> <!></header> <div class="prose prose-lg max-w-none"><!></div> <!></article>'),Fe=v('<div class="container mx-auto px-4 py-12 text-center"><h1 class="text-2xl font-bold mb-4">Post not found</h1> <a href="/" class="text-primary hover:underline">Return to home</a></div>'),Re=v('<div class="min-h-screen bg-[#EBE3DB]"><!></div>');function ta(k,b){me(b,!1);const y=()=>ke(be,"$page",B),[B,I]=Ee(),w=M();let a=M(null),$=M(!0);ce(async()=>{try{L(a,await V.getPostById(e(w))),await V.incrementViews(e(w))}catch(i){console.error("Error loading post:",i)}finally{L($,!1)}});function J(i){return i?i>=1e3?(i/1e3).toFixed(1)+"k":i.toString():"0"}pe(()=>y(),()=>{L(w,y().params.id)}),fe(),$e();var S=Re();we("1sv6dbf",i=>{ue(()=>{ge.title=`${e(a),o(()=>e(a)?e(a).title:"Loading...")??""} - The Truth Hub`})});var K=n(S);{var O=i=>{var E=Te();l(i,E)},Q=i=>{var E=q(),W=G(E);{var X=_=>{var g=Ae(),C=n(g),Z=n(C);Pe(Z,{class:"w-4 h-4"}),xe(),t(C);var D=d(C,2),N=n(D);{var ee=r=>{var s=je();x(()=>{F(s,"src",(e(a),o(()=>e(a).cover_image))),F(s,"alt",(e(a),o(()=>e(a).title)))}),l(r,s)};u(N,r=>{e(a),o(()=>e(a).cover_image)&&r(ee)})}var P=d(N,2),ae=n(P,!0);t(P);var T=d(P,2),j=n(T),z=n(j);Ce(z,{class:"w-4 h-4"});var A=d(z,2),re=n(A,!0);t(A),t(j);var te=d(j,2);{var se=r=>{var s=He(),m=n(s);De(m,{class:"w-4 h-4"});var p=d(m,2),c=n(p);t(p),t(s),x(f=>h(c,`${f??""} views`),[()=>(e(a),o(()=>J(e(a).views)))]),l(r,s)};u(te,r=>{e(a),o(()=>typeof e(a).views<"u")&&r(se)})}t(T);var oe=d(T,2);{var ie=r=>{var s=Me();R(s,5,()=>(e(a),o(()=>e(a).categories)),U,(m,p)=>{var c=Le(),f=n(c,!0);t(c),x(()=>h(f,(e(p),o(()=>e(p).name)))),l(m,c)}),t(s),l(r,s)};u(oe,r=>{e(a),o(()=>e(a).categories&&e(a).categories.length>0)&&r(ie)})}t(D);var H=d(D,2),ne=n(H);ye(ne,()=>(e(a),o(()=>e(a).content))),t(H);var le=d(H,2);{var de=r=>{var s=ze(),m=d(n(s),2);R(m,5,()=>(e(a),o(()=>e(a).tags)),U,(p,c)=>{var f=Ne(),ve=n(f,!0);t(f),x(()=>h(ve,(e(c),o(()=>e(c).name)))),l(p,f)}),t(m),t(s),l(r,s)};u(le,r=>{e(a),o(()=>e(a).tags&&e(a).tags.length>0)&&r(de)})}t(g),x(r=>{h(ae,(e(a),o(()=>e(a).title))),h(re,r)},[()=>(e(a),o(()=>new Date(e(a).created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})))]),l(_,g)},Y=_=>{var g=Fe();l(_,g)};u(W,_=>{e(a)?_(X):_(Y,!1)},!0)}l(i,E)};u(K,i=>{e($)?i(O):i(Q,!1)})}t(S),l(k,S),_e(),I()}export{ta as component};
