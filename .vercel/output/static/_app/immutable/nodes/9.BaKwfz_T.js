import{f as O,a as h,t as Z,c as ie}from"../chunks/DUlsYC3j.js";import{i as le}from"../chunks/D1Mnw4Fy.js";import{p as de,t as $,d as ne,e as ce,i as a,$ as me,r as s,j as i,g as e,m as U,n as G,s as n,f as pe}from"../chunks/DfM-zcOs.js";import{s as B,e as S}from"../chunks/Ce7UJ3xo.js";import{i as J}from"../chunks/BxkL2RRF.js";import{h as ue,r as I}from"../chunks/pTKB1-Ql.js";import{a as P}from"../chunks/Dlfh-MLN.js";import{g as K}from"../chunks/5wH2ZyBx.js";import{a as Q}from"../chunks/yMEJVJxs.js";import{s as D}from"../chunks/DzKOTJ0Y.js";import{B as V}from"../chunks/BSl4I6XK.js";import{t as A}from"../chunks/zpaCH91C.js";import{C as ge}from"../chunks/ejr0Jz5U.js";const be=["ngemanyir@gmail.com"];function fe(g){var o;return{id:g.id,email:g.email,username:((o=g.user_metadata)==null?void 0:o.username)||g.email.split("@")[0]}}class ve{mapUser(o){return fe(o)}async signUp(o,r,c){if(!be.includes(o.toLowerCase()))throw new Error("This email is not authorized to create an account");const{data:l,error:m}=await D.auth.signUp({email:o,password:r,options:{data:{username:c}}});if(m)throw m;return l.user}async signInWithPassword(o,r){const{data:c,error:l}=await D.auth.signInWithPassword({email:o,password:r});if(l)throw l;return c.user}async signOut(){const{error:o}=await D.auth.signOut();if(o)throw o}}const q=new ve;var ye=O('<form class="space-y-5 sm:space-y-7"><div class="space-y-2 sm:space-y-3"><label for="email" class="text-xs sm:text-sm font-bold text-black uppercase tracking-wide">Email</label> <input id="email" type="email" required class="w-full px-4 sm:px-5 py-3 sm:py-4 border-2 border-gray-200 rounded-xl bg-white text-black placeholder:text-gray-400 focus:border-primary focus:ring-4 focus:ring-primary/10 transition-all duration-300 outline-none disabled:opacity-50 disabled:cursor-not-allowed hover:border-gray-300 text-base sm:text-lg" placeholder="your@email.com"/></div> <div class="space-y-2 sm:space-y-3"><label for="password" class="text-xs sm:text-sm font-bold text-black uppercase tracking-wide">Password</label> <input id="password" type="password" required class="w-full px-4 sm:px-5 py-3 sm:py-4 border-2 border-gray-200 rounded-xl bg-white text-black placeholder:text-gray-400 focus:border-primary focus:ring-4 focus:ring-primary/10 transition-all duration-300 outline-none disabled:opacity-50 disabled:cursor-not-allowed hover:border-gray-300 text-base sm:text-lg" placeholder="••••••••"/></div> <!> <div class="text-center text-sm"><button type="button" class="text-primary hover:text-gold-dark font-bold transition-colors">Need an account? Register</button></div></form>'),xe=O('<form class="space-y-5 sm:space-y-6"><div class="space-y-2 sm:space-y-3"><label for="username" class="text-xs sm:text-sm font-bold text-black uppercase tracking-wide">Username</label> <input id="username" type="text" required class="w-full px-4 sm:px-5 py-3 sm:py-4 border-2 border-gray-200 rounded-xl bg-white text-black placeholder:text-gray-400 focus:border-primary focus:ring-4 focus:ring-primary/10 transition-all duration-300 outline-none disabled:opacity-50 disabled:cursor-not-allowed hover:border-gray-300 text-base sm:text-lg" placeholder="username"/></div> <div class="space-y-2 sm:space-y-3"><label for="reg-email" class="text-xs sm:text-sm font-bold text-black uppercase tracking-wide">Email</label> <input id="reg-email" type="email" required class="w-full px-4 sm:px-5 py-3 sm:py-4 border-2 border-gray-200 rounded-xl bg-white text-black placeholder:text-gray-400 focus:border-primary focus:ring-4 focus:ring-primary/10 transition-all duration-300 outline-none disabled:opacity-50 disabled:cursor-not-allowed hover:border-gray-300 text-base sm:text-lg" placeholder="your@email.com"/></div> <div class="space-y-2 sm:space-y-3"><label for="new-password" class="text-xs sm:text-sm font-bold text-black uppercase tracking-wide">Password</label> <input id="new-password" type="password" required minlength="6" class="w-full px-4 sm:px-5 py-3 sm:py-4 border-2 border-gray-200 rounded-xl bg-white text-black placeholder:text-gray-400 focus:border-primary focus:ring-4 focus:ring-primary/10 transition-all duration-300 outline-none disabled:opacity-50 disabled:cursor-not-allowed hover:border-gray-300 text-base sm:text-lg" placeholder="••••••••"/></div> <!> <div class="text-center text-sm"><button type="button" class="text-primary hover:text-gold-dark font-semibold transition-colors">Back to login</button></div></form>'),he=O('<div class="min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 via-white to-gray-50 px-4 py-8 sm:py-12"><div class="w-full max-w-lg border-2 border-gray-200 rounded-2xl bg-white shadow-2xl interactive elevated"><div class="text-center space-y-4 sm:space-y-6 p-6 sm:p-8 md:p-10 border-b-2 border-primary bg-gradient-to-br from-primary/5 via-white to-primary/5"><div class="flex justify-center"><div class="bg-gradient-to-br from-primary to-gold-dark p-4 sm:p-5 rounded-2xl shadow-lg"><!></div></div> <h1 class="text-3xl sm:text-4xl font-extrabold text-black tracking-tight">Admin Access</h1> <p class="text-sm sm:text-base text-gray-600 font-medium px-2"> </p></div> <div class="p-6 sm:p-8 md:p-10"><!></div></div></div>');function je(g,o){de(o,!1);let r=U(!1),c=U("login"),l=U(""),m=U(""),E=U("");async function X(d){d.preventDefault(),n(r,!0);try{const t=await q.signInWithPassword(e(l),e(m));Q.login(q.mapUser(t)),K("/admin")}catch(t){t.message.includes("Invalid login credentials")?A.error("Invalid email or password"):A.error(t.message||"Login failed"),n(r,!1)}}async function Y(d){d.preventDefault(),n(r,!0);try{const t=await q.signUp(e(l),e(m),e(E));t?(Q.login(q.mapUser(t)),A.success("Account created successfully!"),K("/admin")):A.info("Please check your email to confirm your account")}catch(t){A.error(t.message||"Registration failed")}finally{n(r,!1)}}le();var L=he();ue("1x05zx6",d=>{ce(()=>{me.title="Login - ChristFocus"})});var W=a(L),R=a(W),j=a(R),z=a(j),ee=a(z);ge(ee,{class:"w-10 h-10 sm:w-12 sm:h-12 text-black"}),s(z),s(j);var T=i(j,4),re=a(T,!0);s(T),s(R);var F=i(R,2),te=a(F);{var ae=d=>{var t=ye(),w=a(t),_=i(a(w),2);I(_),s(w);var b=i(w,2),u=i(a(b),2);I(u),s(b);var v=i(b,2);V(v,{type:"submit",class:"w-full bg-gradient-to-r from-primary to-gold-dark hover:from-gold-dark hover:to-primary text-black font-bold py-3 sm:py-4 rounded-xl transition-all duration-300 interactive elevated text-base sm:text-lg",get disabled(){return e(r)},children:(p,C)=>{G();var x=Z();$(()=>B(x,e(r)?"Signing in...":"Sign In")),h(p,x)},$$slots:{default:!0}});var y=i(v,2),k=a(y);s(y),s(t),$(()=>{_.disabled=e(r),u.disabled=e(r)}),P(_,()=>e(l),p=>n(l,p)),P(u,()=>e(m),p=>n(m,p)),S("click",k,()=>n(c,"register")),S("submit",t,X),h(d,t)},se=d=>{var t=ie(),w=pe(t);{var _=b=>{var u=xe(),v=a(u),y=i(a(v),2);I(y),s(v);var k=i(v,2),p=i(a(k),2);I(p),s(k);var C=i(k,2),x=i(a(C),2);I(x),s(C);var H=i(C,2);V(H,{type:"submit",class:"w-full bg-gradient-to-r from-primary to-gold-dark hover:from-gold-dark hover:to-primary text-black font-bold py-3 sm:py-4 rounded-xl transition-all duration-300 interactive elevated text-base sm:text-lg",get disabled(){return e(r)},children:(f,we)=>{G();var N=Z();$(()=>B(N,e(r)?"Creating account...":"Create Account")),h(f,N)},$$slots:{default:!0}});var M=i(H,2),oe=a(M);s(M),s(u),$(()=>{y.disabled=e(r),p.disabled=e(r),x.disabled=e(r)}),P(y,()=>e(E),f=>n(E,f)),P(p,()=>e(l),f=>n(l,f)),P(x,()=>e(m),f=>n(m,f)),S("click",oe,()=>n(c,"login")),S("submit",u,Y),h(b,u)};J(w,b=>{e(c)==="register"&&b(_)},!0)}h(d,t)};J(te,d=>{e(c)==="login"?d(ae):d(se,!1)})}s(F),s(W),s(L),$(()=>B(re,e(c)==="login"?"Sign in to manage content":"Create your account")),h(g,L),ne()}export{je as component};
