import{c as W,a as m,f as $}from"../chunks/DUlsYC3j.js";import{i as Pe}from"../chunks/D1Mnw4Fy.js";import{o as Me}from"../chunks/gMiQyaKI.js";import{f as C,p as je,l as Ce,c as Se,g as e,d as ze,m as K,e as De,i as r,j as o,s as B,$ as Ne,n as ve,r as t,t as me,u as d}from"../chunks/DfM-zcOs.js";import{s as f}from"../chunks/Ce7UJ3xo.js";import{i as Le}from"../chunks/BxkL2RRF.js";import{I as X,h as Ve,r as Ae,e as pe,a as O,s as he,i as ue}from"../chunks/pTKB1-Ql.js";import{a as Be}from"../chunks/Dlfh-MLN.js";import{p as fe}from"../chunks/DsqSX7aj.js";import{B as T}from"../chunks/BSl4I6XK.js";import{t as R}from"../chunks/zpaCH91C.js";import{S as Te}from"../chunks/D8M1JEBU.js";import{s as Y}from"../chunks/CJEFSYYL.js";import{l as Z,s as ee}from"../chunks/CMQLsNnl.js";function qe(g,c){const i=Z(c,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M8 12h8"}],["path",{d:"M12 8v8"}]];X(g,ee({name:"circle-plus"},()=>i,{get iconNode(){return n},children:(h,p)=>{var v=W(),u=C(v);Y(u,c,"default",{},null),m(h,v)},$$slots:{default:!0}}))}function ge(g,c){const i=Z(c,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"}]];X(g,ee({name:"square-pen"},()=>i,{get iconNode(){return n},children:(h,p)=>{var v=W(),u=C(v);Y(u,c,"default",{},null),m(h,v)},$$slots:{default:!0}}))}function xe(g,c){const i=Z(c,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n=[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17"}]];X(g,ee({name:"trash-2"},()=>i,{get iconNode(){return n},children:(h,p)=>{var v=W(),u=C(v);Y(u,c,"default",{},null),m(h,v)},$$slots:{default:!0}}))}var Ee=$("<!> New Teaching",1),Fe=$('<div class="flex items-center justify-center py-20 sm:py-32"><div class="relative"><div class="animate-spin rounded-full h-12 w-12 sm:h-16 sm:w-16 border-4 border-primary/20 border-t-primary"></div> <div class="absolute inset-0 flex items-center justify-center"><div class="w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-primary/20"></div></div></div></div>'),He=$('<tr><td class="p-4 lg:p-5 font-bold text-black text-sm lg:text-base"> </td><td class="p-4 lg:p-5"><span> </span></td><td class="p-4 lg:p-5 text-gray-700 font-semibold text-sm lg:text-base"> </td><td class="p-4 lg:p-5 text-gray-700 font-medium text-sm"> </td><td class="p-4 lg:p-5 text-right"><div class="flex items-center justify-end gap-2 lg:gap-3"><a><!></a> <!></div></td></tr>'),Ie=$("<!> Edit",1),Ue=$('<div class="bg-white rounded-xl border-2 border-gray-200 shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300"><div class="p-4 sm:p-5 space-y-3 sm:space-y-4"><div class="flex items-start justify-between gap-3"><h3 class="text-base sm:text-lg font-bold text-black leading-tight flex-1"> </h3> <span> </span></div> <div class="flex items-center gap-4 text-sm text-gray-600"><div class="flex items-center gap-1.5"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg> <span class="font-semibold"> </span></div> <div class="flex items-center gap-1.5"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg> <span> </span></div></div> <div class="flex items-center gap-2 pt-2 border-t border-gray-200"><a class="flex-1"><!></a> <!></div></div></div>'),Qe=$('<div class="hidden md:block bg-white rounded-2xl border-2 border-gray-200 shadow-xl overflow-hidden"><div class="overflow-x-auto"><table class="w-full"><thead class="bg-gradient-to-r from-gray-900 via-black to-gray-900 text-white"><tr><th class="text-left p-4 lg:p-5 font-extrabold text-sm lg:text-base uppercase tracking-wide">Title</th><th class="text-left p-4 lg:p-5 font-extrabold text-sm lg:text-base uppercase tracking-wide">Status</th><th class="text-left p-4 lg:p-5 font-extrabold text-sm lg:text-base uppercase tracking-wide">Views</th><th class="text-left p-4 lg:p-5 font-extrabold text-sm lg:text-base uppercase tracking-wide">Created</th><th class="text-right p-4 lg:p-5 font-extrabold text-sm lg:text-base uppercase tracking-wide">Actions</th></tr></thead><tbody></tbody></table></div></div> <div class="md:hidden space-y-4"></div>',1),Ge=$('<div class="min-h-screen bg-white"><div class="container mx-auto px-4 sm:px-6 py-8 sm:py-10 md:py-12"><div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 sm:gap-6 mb-8 sm:mb-10 md:mb-12 pb-6 sm:pb-8 border-b-2 border-primary"><div class="w-full sm:w-auto"><h1 class="text-3xl sm:text-4xl md:text-5xl font-extrabold text-black mb-2 tracking-tight leading-tight">Admin <span class="text-primary text-shadow-soft">Dashboard</span></h1> <p class="text-gray-600 text-sm sm:text-base md:text-lg">Manage your teachings and content</p></div> <a href="/admin/write" class="w-full sm:w-auto"><!></a></div> <div class="mb-6 sm:mb-8 md:mb-10"><div class="relative max-w-full sm:max-w-xl group"><!> <input type="text" placeholder="Search teachings..." class="w-full pl-10 sm:pl-12 pr-3 sm:pr-4 py-3 sm:py-4 border-2 border-gray-200 rounded-xl bg-white text-black placeholder:text-gray-400 focus:border-primary focus:ring-4 focus:ring-primary/10 transition-all duration-300 outline-none hover:border-gray-300 text-base sm:text-lg"/></div></div> <!></div></div>');function lt(g,c){je(c,!1);let i=[],n=K([]),h=K(!0),p=K("");async function v(){try{i=await fe.getAllPosts(),B(n,i)}catch(s){console.error("Error loading posts:",s),R.error("Failed to load posts")}finally{B(h,!1)}}async function u(s){if(confirm("Are you sure you want to delete this teaching?"))try{await fe.deletePost(s),i=i.filter(l=>l.id!==s),te(),R.success("Teaching deleted successfully")}catch(l){console.error("Error deleting post:",l),R.error("Failed to delete post")}}function te(){if(!e(p).trim())B(n,i);else{const s=e(p).toLowerCase();B(n,i.filter(l=>l.title.toLowerCase().includes(s)||l.content.toLowerCase().includes(s)||l.excerpt&&l.excerpt.toLowerCase().includes(s)))}}Me(v),Ce(()=>e(p),()=>{e(p),te()}),Se(),Pe();var F=Ge();Ve("1jef3w8",s=>{De(()=>{Ne.title="Admin Dashboard - ChristFocus"})});var re=r(F),H=r(re),ae=o(r(H),2),be=r(ae);T(be,{class:"w-full sm:w-auto bg-gradient-to-r from-primary to-gold-dark hover:from-gold-dark hover:to-primary text-black font-bold text-sm sm:text-base px-5 sm:px-6 py-3 rounded-xl interactive elevated",children:(s,l)=>{var k=Ee(),q=C(k);qe(q,{class:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),ve(),m(s,k)},$$slots:{default:!0}}),t(ae),t(H);var I=o(H,2),se=r(I),oe=r(se);Te(oe,{class:"absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-gray-400 group-focus-within:text-primary transition-colors"});var le=o(oe,2);Ae(le),t(se),t(I);var ye=o(I,2);{var _e=s=>{var l=Fe();m(s,l)},we=s=>{var l=Qe(),k=C(l),q=r(k),ie=r(q),de=o(r(ie));pe(de,5,()=>e(n),ue,(U,a,S)=>{var x=He();O(x,1,`border-b last:border-b-0 hover:bg-gradient-to-r hover:from-primary/5 hover:to-transparent transition-all duration-300 ${S%2===0?"bg-white":"bg-gray-50/50"}`);var b=r(x),z=r(b,!0);t(b);var D=o(b),y=r(D),Q=r(y,!0);t(y),t(D);var _=o(D),N=r(_,!0);t(_);var P=o(_),G=r(P,!0);t(P);var L=o(P),V=r(L),M=r(V),E=r(M);T(E,{variant:"ghost",size:"sm",class:"hover:bg-primary/20 border border-transparent hover:border-primary transition-all duration-300",children:(w,J)=>{ge(w,{class:"w-4 h-4 lg:w-5 lg:h-5 text-primary"})},$$slots:{default:!0}}),t(M);var j=o(M,2);T(j,{variant:"ghost",size:"sm",class:"hover:bg-red-50 border border-transparent hover:border-red-300 transition-all duration-300",$$events:{click:()=>u(e(a).id)},children:(w,J)=>{xe(w,{class:"w-4 h-4 lg:w-5 lg:h-5 text-red-600"})},$$slots:{default:!0}}),t(V),t(L),t(x),me(w=>{f(z,(e(a),d(()=>e(a).title))),O(y,1,`px-3 py-1.5 rounded-full text-xs sm:text-sm font-bold shadow-sm ${e(a),d(()=>e(a).published?"bg-gradient-to-r from-primary to-gold-dark text-black":"bg-gray-200 text-gray-700")??""}`),f(Q,(e(a),d(()=>e(a).published?"Published":"Draft"))),f(N,(e(a),d(()=>e(a).views||0))),f(G,w),he(M,"href",`/admin/edit/${e(a),d(()=>e(a).id)??""}`)},[()=>(e(a),d(()=>new Date(e(a).created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})))]),m(U,x)}),t(de),t(ie),t(q),t(k);var ne=o(k,2);pe(ne,5,()=>e(n),ue,(U,a)=>{var S=Ue(),x=r(S),b=r(x),z=r(b),D=r(z,!0);t(z);var y=o(z,2),Q=r(y,!0);t(y),t(b);var _=o(b,2),N=r(_),P=o(r(N),2),G=r(P,!0);t(P),t(N);var L=o(N,2),V=o(r(L),2),M=r(V,!0);t(V),t(L),t(_);var E=o(_,2),j=r(E),w=r(j);T(w,{variant:"outline",class:"w-full bg-primary/5 hover:bg-primary/10 border-primary/30 hover:border-primary text-black font-bold",children:(A,$e)=>{var ce=Ie(),ke=C(ce);ge(ke,{class:"w-4 h-4 mr-2"}),ve(),m(A,ce)},$$slots:{default:!0}}),t(j);var J=o(j,2);T(J,{variant:"outline",class:"flex-shrink-0 bg-red-50 hover:bg-red-100 border-red-200 hover:border-red-300 text-red-700 font-bold px-4",$$events:{click:()=>u(e(a).id)},children:(A,$e)=>{xe(A,{class:"w-4 h-4"})},$$slots:{default:!0}}),t(E),t(x),t(S),me(A=>{f(D,(e(a),d(()=>e(a).title))),O(y,1,`px-2.5 py-1 rounded-full text-xs font-bold shadow-sm flex-shrink-0 ${e(a),d(()=>e(a).published?"bg-gradient-to-r from-primary to-gold-dark text-black":"bg-gray-200 text-gray-700")??""}`),f(Q,(e(a),d(()=>e(a).published?"Published":"Draft"))),f(G,(e(a),d(()=>e(a).views||0))),f(M,A),he(j,"href",`/admin/edit/${e(a),d(()=>e(a).id)??""}`)},[()=>(e(a),d(()=>new Date(e(a).created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})))]),m(U,S)}),t(ne),m(s,l)};Le(ye,s=>{e(h)?s(_e):s(we,!1)})}t(re),t(F),Be(le,()=>e(p),s=>B(p,s)),m(g,F),ze()}export{lt as component};
